
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; ////////////////////  DIAGONALE BAS GAUCHE   /////////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
deplace_soucoupe_BasGauche
	ld		c,BANK_ROM_18
	RST 	UPPER_ROM_CONNEXION
	call	deplace_soucoupe_BasGauche_ROM
	call	rom_off

	call	test_collisions_tir_gauche
	call	test_collisions_tir_droite
	call	test_collisions_avec_les_ennemisG
	jp		test_collisions_avec_les_ennemisD
	
pas_decollision_soucoupe
	pop		ix			; on vide la dernière valeur de la pile
	call	rom_off
	ret
	
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; ////////////////////  DIAGONALE BAS DROITE   /////////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
deplace_soucoupe_BasDroite
	ld		c,BANK_ROM_18
	RST 	UPPER_ROM_CONNEXION
	call	deplace_soucoupe_BasDroite_ROM
	call	rom_off
	
	call	test_collisions_tir_gauche
	call	test_collisions_tir_droite
	call	test_collisions_avec_les_ennemisG
	jp		test_collisions_avec_les_ennemisD
	




; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; ////////////////  HORIZONTAL VERTICAL BAS DROITE  ///////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
deplace_soucoupe_HorizVertiBasDroite
	ld		c,BANK_ROM_18
	RST 	UPPER_ROM_CONNEXION
	CALL	deplace_soucoupe_HorizVertiBasDroite_ROM
	call	rom_off	

	
	

	call	test_collisions_tir_gauche
	call	test_collisions_tir_droite
	call	test_collisions_avec_les_ennemisG
	jp		test_collisions_avec_les_ennemisD
TBL_DEPLACEMENT_HorizVertiBasDroite
	; nombre de frame, distance X, distance Y
db		40,6,0
db		60,0,4
		
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; ////////////////  HORIZONTAL VERTICAL BAS GAUCHE  ///////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
deplace_soucoupe_HorizVertiBasGauche
	ld		c,BANK_ROM_18
	RST 	UPPER_ROM_CONNEXION
	call	deplace_soucoupe_HorizVertiBasGauche_ROM
	call	rom_off	
	

	call	test_collisions_tir_gauche
	call	test_collisions_tir_droite
	call	test_collisions_avec_les_ennemisG
	jp		test_collisions_avec_les_ennemisD


TBL_DEPLACEMENT_HorizVertiBasGauche
	; nombre de frame, distance X, distance Y
db		40,6,0
db		60,0,4


; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; ////////////////  DIAGONAL VERTICAL BAS DROITE  ///////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
deplace_soucoupe_DiagoVertiBasDroite
	ld		c,BANK_ROM_18
	RST 	UPPER_ROM_CONNEXION
	call	deplace_soucoupe_DiagoVertiBasDroite_ROM
	call	rom_off
	

	call	test_collisions_tir_gauche
	call	test_collisions_tir_droite
	call	test_collisions_avec_les_ennemisG
	jp		test_collisions_avec_les_ennemisD
TBL_DEPLACEMENT_DiagoVertiBasDroite
	; nombre de frame, distance X, distance Y
db		30,6,4
db		60,0,4
	
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; ////////////////  DIAGONAL VERTICAL BAS GAUCHE  ///////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
deplace_soucoupe_DiagoVertiBasGauche
ld		c,BANK_ROM_18
	RST 	UPPER_ROM_CONNEXION
	call	deplace_soucoupe_DiagoVertiBasGauche_ROM
	call	rom_off	
	

	call	test_collisions_tir_gauche
	call	test_collisions_tir_droite
	call	test_collisions_avec_les_ennemisG
	jp		test_collisions_avec_les_ennemisD

TBL_DEPLACEMENT_DiagoVertiBasGauche
	; nombre de frame, distance X, distance Y
db		30,6,4
db		60,0,4

; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; ////////////////  ZIGZAG VERTICAL BAS   ///////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
deplace_soucoupe_ZigzagVertiBas
	ld		c,BANK_ROM_18
	RST 	UPPER_ROM_CONNEXION
	call	deplace_soucoupe_ZigzagVertiBas_ROM
	call	rom_off	


	call	test_collisions_tir_gauche
	call	test_collisions_tir_droite
	call	test_collisions_avec_les_ennemisG
	jp		test_collisions_avec_les_ennemisD



TBL_DEPLACEMENT_ZigzagVertiBas
	; nombre de frame, distance X, distance Y
DB		20
DW		8
DB		2

DB		20
DW		-6
DB		4

DB		20
DW		10
DB		4

DB		15
DW		-10
DB		4

DB		15
DW		6
DB		6

DB		15
DW		-6
DB		6

; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; ////////////////////  TOURNE HAUT DROITE BAS   ///////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
deplace_soucoupe_TourneDroite
	ld		c,BANK_ROM_18
	RST 	UPPER_ROM_CONNEXION
	call	deplace_soucoupe_TourneDroite_ROM
	call	rom_off	


	call	test_collisions_tir_gauche
	call	test_collisions_tir_droite
	call	test_collisions_avec_les_ennemisG
	jp		test_collisions_avec_les_ennemisD


TBL_DEPLACEMENT_TourneDroite
	; nombre de frame, distance X, distance Y
db		30,6,4
db		60,0,4

; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; ////////////////////  TOURNE HAUT GAUCHE BAS   ///////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
; //////////////////////////////////////////////////////////////////////
deplace_soucoupe_TourneGauche
	ld		c,BANK_ROM_18
	RST 	UPPER_ROM_CONNEXION
	call	deplace_soucoupe_TourneGauche_ROM
	call	rom_off	


	call	test_collisions_tir_gauche
	call	test_collisions_tir_droite
	call	test_collisions_avec_les_ennemisG
	jp		test_collisions_avec_les_ennemisD


TBL_DEPLACEMENT_TourneGauche
	; nombre de frame, distance X, distance Y
db		30,6,4
db		60,0,4






on_change_de_direction
; on décale le pointeur de 3 octets
	inc		de
	inc		de
	inc		de
; on lit la nouvelle laveur de distance dans A
	ld		a,(de)
; on cible le poid faible
	dec		hl
	ld		(hl),e
; on cible le poid fort
	inc		hl
	ld		(hl),d
	ret
on_change_de_directionz

; on décale le pointeur de 3 octets
	inc		de
	inc		de
	inc		de
	inc		de
; on lit la nouvelle laveur de distance dans A
	ld		a,(de)
; on cible le poid faible
	dec		hl
	ld		(hl),e
; on cible le poid fort
	inc		hl
	ld		(hl),d
	ret
	